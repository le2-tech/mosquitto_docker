# Example mosquitto.conf for testing the PostgreSQL plugin
allow_anonymous false
per_listener_settings false

listener 1883 0.0.0.0

# Load the plugin (path inside container or host)
plugin /mosquitto/plugins/mosq_pg_auth.so

# Plugin options (passed to mosquitto_plugin_init via mosquitto_opt)
plugin_opt_pg_dsn       postgres://mqtt_auth:StrongPass@postgres:5432/mqtt?sslmode=disable
plugin_opt_timeout_ms   1500
plugin_opt_fail_open    false
plugin_opt_enforce_bind false

# Keep this enabled unless you know what you're doing
# auth_plugin_deny_special_chars true
